# 1ワイド文字に収まらないワイド文字リテラルを禁止する
* cpp23[meta cpp]

## 概要
C++23では、ワイド文字リテラルとして、以下を禁止する：

- マルチキャラクタリテラル
- エンコード可能ではない、または複数文字を含む文字

```cpp
wchar_t a = '🤦'; // C++20:OK, C++23:OK \U0001f926
wchar_t b = 'ab'; // C++20:OK, C++23:NG マルチキャラクタリテラル
wchar_t c = 'é́';  // C++20:OK, C++23:NG \u0065\u0301
```

`wchar_t`はプラットフォームによって16ビットか32ビットのどちらかとなる。
変数`a`のケースは`wchar_t`が32ビットの環境では情報を損うことなく表現でき、16ビットの環境では上位16ビットか下位16ビットのどちらかが切り捨てられる実装がある。
`a`のケースは32ビットの場合には正しいものであるため、C++23では維持される。

変数`b`のケースはマルチキャラクタリテラル (multi-character literals) であり、実装定義の値となるが、多くの環境でいずれか1文字の値のみが使われていた。また、韓国語やバラモン語では1文字に見えて複数文字であるような場合があるため、`wchar_t`にマルチキャラクタリテラルを許可することはバグの元であるため、禁止とする。

変数`c`のケースは1文字のように見えても複数のコードポイントで構成されており、マルチキャラクタリテラルの一種であるため禁止とする。


## 参照
- [P2362R3 Remove non-encodable wide character literals and multicharacter wide character literals](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2362r3.pdf)

